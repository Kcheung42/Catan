{"version":3,"sources":["catan_board/events.cljs"],"mappings":";AAQA,yDAAA,zDAACA,+HAEA,WAAKC,EAAEA;AAAP,AACEC;;AAIH,yDAAA,zDAACF,kIAEA,WAAKG,GAAGF;AAAR,AACE,IAAMG,yBAAiB,kDAAA,mFAAA,iDAAA,mFAAA,zQAACC,+CAAOF;IACzBG,YAAU,AAACC,iDAAyBH;AAD1C,AAEE,wDAAA,jDAACI,8CAAML,2DAAUG;;AAEtB,yDAAA,zDAACN,mJAEA,cAAAS,HAAKN;AAAL,AAAA,IAAAO,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAAST;iBAAT,AAAAU,4CAAAD,WAAA,IAAA,xEAAWE;AAAX,wEACMT,9CACA,iDAAA,jDAACK,yGAAaI,nIACd,+IAAA,mFAAA,iDAAA,mEAAA,/UAACC;;AAER,yDAAA,zDAACb,kJAEA,cAAAc,HAAKX;AAAL,AAAA,IAAAY,aAAAD;QAAA,AAAAH,4CAAAI,WAAA,IAAA,/DAASd;YAAT,AAAAU,4CAAAI,WAAA,IAAA,nEAAWC;AAAX,6CACMb,nBACA,sBAAA,mFAAA,iDAAA,mEAAA,7NAACU,1BACD,8PAAA,mFAAA,iDAAA,3XAACA,0bAAsBG;;AAI9B,yDAAA,zDAAChB,wIAEA,WAAKG,GAAGF;AAAR,AACE,4DAAA,mFAAA,iDAAA,zLAACgB,kDAAUd,2NAA0Be;;AAIxC,yDAAA,zDAAClB,mIAEA,cAAAmB,HAAKhB;AAAL,AAAA,IAAAiB,aAAAD;QAAA,AAAAR,4CAAAS,WAAA,IAAA,/DAASnB;YAAT,AAAAU,4CAAAS,WAAA,IAAA,nEAAWC;AAAX,AACE,IAAMC,sFAAkBD,nCACA,iBAAAE,pDACA,iBAAAE;IADAD,kBAAA;AAAA,AAAA,SAAAD,kBAAAC,mBAAAD,kBAAAC;;IACAE,kBAAA;AAAA,AAAA,SAAAD,kBAAAC,mBAAAD,kBAAAC;;AAFxB,AAGE,6BAAA,mFAAA,iDAAA,1JAACb,mBAASV,kNAAsBmB;;AAErC,yDAAA,zDAACtB,iIAEA,WAAKG,GAAGF;AAAR,AACE,IAAM0B,gBAAc,kDAAA,mFAAA,iDAAA,2EAAA,jQAACtB,+CAAOF;IACtByB,YAAU,iBAAAH,kBAAA;IAAAC,kBAAS,iBAAA,hBAAGC;AAAZ,AAAA,SAAAF,kBAAAC,mBAAAD,kBAAAC;;AADhB,AAEE,6BAAA,mFAAA,iDAAA,1JAACb,mBAASV,kNAAsByB;;AAErC,yDAAA,zDAAC5B,mIAEA,WAAKG,GAAGF;AAAR,AACE,IAAM0B,gBAAc,kDAAA,mFAAA,iDAAA,2EAAA,jQAACtB,+CAAOF;IACtByB,YAAU,iBAAAL,kBAAA;IAAAC,kBAAQ,iBAAA,hBAAGG;AAAX,AAAA,SAAAJ,kBAAAC,mBAAAD,kBAAAC;;AADhB,AAEE,6BAAA,mFAAA,iDAAA,1JAACX,mBAASV,kNAAsByB;;AAErC,yDAAA,zDAAC5B,6HAEA,WAAKG,GAAGF;AAAR,AACE,6BAAA,mFAAA,iDAAA,2EAAA,rOAACY,mBAASV;;AAIb,yDAAA,zDAACH,kJAEA,WAAKG,GAAGF;AAAR,AACE,4DAAA,mFAAA,iDAAA,zLAACgB,kDAAUd,0NAA0Be","names":["re_frame.core.reg_event_db","_","catan-board.db/default-db","db","tournament-mode?","cljs.core.get_in","new-board","catan-board.utils.board-generator/generate-board","cljs.core.assoc","p__14386","vec__14387","cljs.core.nth","board-data","cljs.core/assoc-in","p__14390","vec__14391","error","cljs.core.update_in","cljs.core/not","p__14394","vec__14395","scale","clamped-scale","x__5087__auto__","y__5088__auto__","x__5090__auto__","y__5091__auto__","current-scale","new-scale"],"sourcesContent":["(ns catan-board.events\n  (:require\n   [re-frame.core :as rf]\n   [catan-board.db :as db]\n   [catan-board.utils.board-generator :as board-gen]))\n\n;; -- Initialization ----------------------------------------------------------\n\n(rf/reg-event-db\n :initialize-db\n (fn [_ _]\n   db/default-db))\n\n;; -- Board Generation --------------------------------------------------------\n\n(rf/reg-event-db\n :generate-board\n (fn [db _]\n   (let [tournament-mode? (get-in db [:ui :tournament-mode] false)\n         new-board (board-gen/generate-board tournament-mode?)]\n     (assoc db :board new-board))))\n\n(rf/reg-event-db\n :generate-board-success\n (fn [db [_ board-data]]\n   (-> db\n       (assoc :board board-data)\n       (assoc-in [:ui :loading] false))))\n\n(rf/reg-event-db\n :generate-board-failure\n (fn [db [_ error]]\n   (-> db\n       (assoc-in [:ui :loading] false)\n       (assoc-in [:ui :error] error))))\n\n;; -- UI Controls -------------------------------------------------------------\n\n(rf/reg-event-db\n :toggle-info-panel\n (fn [db _]\n   (update-in db [:ui :show-info-panel] not)))\n\n;; -- Board Scaling -----------------------------------------------------------\n\n(rf/reg-event-db\n :set-board-scale\n (fn [db [_ scale]]\n   (let [clamped-scale (-> scale\n                           (max 50)\n                           (min 300))]\n     (assoc-in db [:ui :board-scale] clamped-scale))))\n\n(rf/reg-event-db\n :increase-scale\n (fn [db _]\n   (let [current-scale (get-in db [:ui :board-scale] 100)\n         new-scale (min 300 (+ current-scale 25))]\n     (assoc-in db [:ui :board-scale] new-scale))))\n\n(rf/reg-event-db\n :decrease-scale\n (fn [db _]\n   (let [current-scale (get-in db [:ui :board-scale] 100)\n         new-scale (max 50 (- current-scale 25))]\n     (assoc-in db [:ui :board-scale] new-scale))))\n\n(rf/reg-event-db\n :reset-scale\n (fn [db _]\n   (assoc-in db [:ui :board-scale] 100)))\n\n;; -- Tournament Mode ---------------------------------------------------------\n\n(rf/reg-event-db\n :toggle-tournament-mode\n (fn [db _]\n   (update-in db [:ui :tournament-mode] not)))\n"]}